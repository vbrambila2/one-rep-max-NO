{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports[\"default\"] = createConnectedFields;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _objectWithoutPropertiesLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutPropertiesLoose\"));\n\nvar _inheritsLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _reactRedux = require(\"react-redux\");\n\nvar _createFieldProps2 = _interopRequireDefault(require(\"./createFieldProps\"));\n\nvar _plain = _interopRequireDefault(require(\"./structure/plain\"));\n\nvar _onChangeValue = _interopRequireDefault(require(\"./events/onChangeValue\"));\n\nvar _validateComponentProp = _interopRequireDefault(require(\"./util/validateComponentProp\"));\n\nvar propsToNotUpdateFor = ['_reduxForm'];\n\nfunction createConnectedFields(structure) {\n  var deepEqual = structure.deepEqual,\n      getIn = structure.getIn,\n      size = structure.size;\n\n  var getSyncError = function getSyncError(syncErrors, name) {\n    // Because the error for this field might not be at a level in the error structure where\n    // it can be set directly, it might need to be unwrapped from the _error property\n    return _plain[\"default\"].getIn(syncErrors, name + \"._error\") || _plain[\"default\"].getIn(syncErrors, name);\n  };\n\n  var getSyncWarning = function getSyncWarning(syncWarnings, name) {\n    var warning = getIn(syncWarnings, name); // Because the warning for this field might not be at a level in the warning structure where\n    // it can be set directly, it might need to be unwrapped from the _warning property\n\n    return warning && warning._warning ? warning._warning : warning;\n  };\n\n  var ConnectedFields = /*#__PURE__*/function (_React$Component) {\n    (0, _inheritsLoose2[\"default\"])(ConnectedFields, _React$Component);\n\n    function ConnectedFields(props) {\n      var _this;\n\n      _this = _React$Component.call(this, props) || this;\n      _this.onChangeFns = {};\n      _this.onFocusFns = {};\n      _this.onBlurFns = {};\n      _this.ref = _react[\"default\"].createRef();\n\n      _this.prepareEventHandlers = function (_ref) {\n        var names = _ref.names;\n        return names.forEach(function (name) {\n          _this.onChangeFns[name] = function (event) {\n            return _this.handleChange(name, event);\n          };\n\n          _this.onFocusFns[name] = function () {\n            return _this.handleFocus(name);\n          };\n\n          _this.onBlurFns[name] = function (event) {\n            return _this.handleBlur(name, event);\n          };\n        });\n      };\n\n      _this.handleChange = function (name, event) {\n        var _this$props = _this.props,\n            dispatch = _this$props.dispatch,\n            parse = _this$props.parse,\n            _reduxForm = _this$props._reduxForm;\n        var value = (0, _onChangeValue[\"default\"])(event, {\n          name: name,\n          parse: parse\n        });\n        dispatch(_reduxForm.change(name, value)); // call post-change callback\n\n        if (_reduxForm.asyncValidate) {\n          _reduxForm.asyncValidate(name, value, 'change');\n        }\n      };\n\n      _this.handleFocus = function (name) {\n        var _this$props2 = _this.props,\n            dispatch = _this$props2.dispatch,\n            _reduxForm = _this$props2._reduxForm;\n        dispatch(_reduxForm.focus(name));\n      };\n\n      _this.handleBlur = function (name, event) {\n        var _this$props3 = _this.props,\n            dispatch = _this$props3.dispatch,\n            parse = _this$props3.parse,\n            _reduxForm = _this$props3._reduxForm;\n        var value = (0, _onChangeValue[\"default\"])(event, {\n          name: name,\n          parse: parse\n        }); // dispatch blur action\n\n        dispatch(_reduxForm.blur(name, value)); // call post-blur callback\n\n        if (_reduxForm.asyncValidate) {\n          _reduxForm.asyncValidate(name, value, 'blur');\n        }\n      };\n\n      _this.prepareEventHandlers(props);\n\n      return _this;\n    }\n\n    var _proto = ConnectedFields.prototype;\n\n    _proto.UNSAFE_componentWillReceiveProps = function UNSAFE_componentWillReceiveProps(nextProps) {\n      var _this2 = this;\n\n      if (this.props.names !== nextProps.names && (size(this.props.names) !== size(nextProps.names) || nextProps.names.some(function (nextName) {\n        return !_this2.props._fields[nextName];\n      }))) {\n        // names has changed. The cached event handlers need to be updated\n        this.prepareEventHandlers(nextProps);\n      }\n    };\n\n    _proto.shouldComponentUpdate = function shouldComponentUpdate(nextProps) {\n      var _this3 = this;\n\n      var nextPropsKeys = Object.keys(nextProps);\n      var thisPropsKeys = Object.keys(this.props); // if we have children, we MUST update in React 16\n      // https://twitter.com/erikras/status/915866544558788608\n\n      return !!(this.props.children || nextProps.children || nextPropsKeys.length !== thisPropsKeys.length || nextPropsKeys.some(function (prop) {\n        return !~propsToNotUpdateFor.indexOf(prop) && !deepEqual(_this3.props[prop], nextProps[prop]);\n      }));\n    };\n\n    _proto.isDirty = function isDirty() {\n      var _fields = this.props._fields;\n      return Object.keys(_fields).some(function (name) {\n        return _fields[name].dirty;\n      });\n    };\n\n    _proto.getValues = function getValues() {\n      var _fields = this.props._fields;\n      return Object.keys(_fields).reduce(function (accumulator, name) {\n        return _plain[\"default\"].setIn(accumulator, name, _fields[name].value);\n      }, {});\n    };\n\n    _proto.getRenderedComponent = function getRenderedComponent() {\n      return this.ref.current;\n    };\n\n    _proto.render = function render() {\n      var _this4 = this;\n\n      var _this$props4 = this.props,\n          component = _this$props4.component,\n          forwardRef = _this$props4.forwardRef,\n          _fields = _this$props4._fields,\n          _reduxForm = _this$props4._reduxForm,\n          rest = (0, _objectWithoutPropertiesLoose2[\"default\"])(_this$props4, [\"component\", \"forwardRef\", \"_fields\", \"_reduxForm\"]);\n      var sectionPrefix = _reduxForm.sectionPrefix,\n          form = _reduxForm.form;\n\n      var _Object$keys$reduce = Object.keys(_fields).reduce(function (accumulator, name) {\n        var connectedProps = _fields[name];\n\n        var _createFieldProps = (0, _createFieldProps2[\"default\"])(structure, name, (0, _extends2[\"default\"])({}, connectedProps, {}, rest, {\n          form: form,\n          onBlur: _this4.onBlurFns[name],\n          onChange: _this4.onChangeFns[name],\n          onFocus: _this4.onFocusFns[name]\n        })),\n            custom = _createFieldProps.custom,\n            fieldProps = (0, _objectWithoutPropertiesLoose2[\"default\"])(_createFieldProps, [\"custom\"]);\n\n        accumulator.custom = custom;\n        var fieldName = sectionPrefix ? name.replace(sectionPrefix + \".\", '') : name;\n        return _plain[\"default\"].setIn(accumulator, fieldName, fieldProps);\n      }, {}),\n          custom = _Object$keys$reduce.custom,\n          props = (0, _objectWithoutPropertiesLoose2[\"default\"])(_Object$keys$reduce, [\"custom\"]);\n\n      if (forwardRef) {\n        props.ref = this.ref;\n      }\n\n      return _react[\"default\"].createElement(component, (0, _extends2[\"default\"])({}, props, {}, custom));\n    };\n\n    return ConnectedFields;\n  }(_react[\"default\"].Component);\n\n  ConnectedFields.propTypes = {\n    component: _validateComponentProp[\"default\"],\n    _fields: _propTypes[\"default\"].object.isRequired,\n    props: _propTypes[\"default\"].object\n  };\n  var connector = (0, _reactRedux.connect)(function (state, ownProps) {\n    var names = ownProps.names,\n        _ownProps$_reduxForm = ownProps._reduxForm,\n        initialValues = _ownProps$_reduxForm.initialValues,\n        getFormState = _ownProps$_reduxForm.getFormState;\n    var formState = getFormState(state);\n    return {\n      _fields: names.reduce(function (accumulator, name) {\n        var initialState = getIn(formState, \"initial.\" + name);\n        var initial = initialState !== undefined ? initialState : initialValues && getIn(initialValues, name);\n        var value = getIn(formState, \"values.\" + name);\n        var syncError = getSyncError(getIn(formState, 'syncErrors'), name);\n        var syncWarning = getSyncWarning(getIn(formState, 'syncWarnings'), name);\n        var submitting = getIn(formState, 'submitting');\n        var pristine = value === initial;\n        accumulator[name] = {\n          asyncError: getIn(formState, \"asyncErrors.\" + name),\n          asyncValidating: getIn(formState, 'asyncValidating') === name,\n          dirty: !pristine,\n          initial: initial,\n          pristine: pristine,\n          state: getIn(formState, \"fields.\" + name),\n          submitError: getIn(formState, \"submitErrors.\" + name),\n          submitFailed: getIn(formState, 'submitFailed'),\n          submitting: submitting,\n          syncError: syncError,\n          syncWarning: syncWarning,\n          value: value,\n          _value: ownProps.value // save value passed in (for radios)\n\n        };\n        return accumulator;\n      }, {})\n    };\n  }, undefined, undefined, {\n    forwardRef: true\n  });\n  return connector(ConnectedFields);\n}","map":{"version":3,"sources":["/Users/victorbrambila/ORM/one-rep-max/node_modules/redux-form/lib/ConnectedFields.js"],"names":["_interopRequireDefault","require","exports","__esModule","createConnectedFields","_extends2","_objectWithoutPropertiesLoose2","_inheritsLoose2","_react","_propTypes","_reactRedux","_createFieldProps2","_plain","_onChangeValue","_validateComponentProp","propsToNotUpdateFor","structure","deepEqual","getIn","size","getSyncError","syncErrors","name","getSyncWarning","syncWarnings","warning","_warning","ConnectedFields","_React$Component","props","_this","call","onChangeFns","onFocusFns","onBlurFns","ref","createRef","prepareEventHandlers","_ref","names","forEach","event","handleChange","handleFocus","handleBlur","_this$props","dispatch","parse","_reduxForm","value","change","asyncValidate","_this$props2","focus","_this$props3","blur","_proto","prototype","UNSAFE_componentWillReceiveProps","nextProps","_this2","some","nextName","_fields","shouldComponentUpdate","_this3","nextPropsKeys","Object","keys","thisPropsKeys","children","length","prop","indexOf","isDirty","dirty","getValues","reduce","accumulator","setIn","getRenderedComponent","current","render","_this4","_this$props4","component","forwardRef","rest","sectionPrefix","form","_Object$keys$reduce","connectedProps","_createFieldProps","onBlur","onChange","onFocus","custom","fieldProps","fieldName","replace","createElement","Component","propTypes","object","isRequired","connector","connect","state","ownProps","_ownProps$_reduxForm","initialValues","getFormState","formState","initialState","initial","undefined","syncError","syncWarning","submitting","pristine","asyncError","asyncValidating","submitError","submitFailed","_value"],"mappings":"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","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports[\"default\"] = createConnectedFields;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _objectWithoutPropertiesLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutPropertiesLoose\"));\n\nvar _inheritsLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _reactRedux = require(\"react-redux\");\n\nvar _createFieldProps2 = _interopRequireDefault(require(\"./createFieldProps\"));\n\nvar _plain = _interopRequireDefault(require(\"./structure/plain\"));\n\nvar _onChangeValue = _interopRequireDefault(require(\"./events/onChangeValue\"));\n\nvar _validateComponentProp = _interopRequireDefault(require(\"./util/validateComponentProp\"));\n\nvar propsToNotUpdateFor = ['_reduxForm'];\n\nfunction createConnectedFields(structure) {\n  var deepEqual = structure.deepEqual,\n      getIn = structure.getIn,\n      size = structure.size;\n\n  var getSyncError = function getSyncError(syncErrors, name) {\n    // Because the error for this field might not be at a level in the error structure where\n    // it can be set directly, it might need to be unwrapped from the _error property\n    return _plain[\"default\"].getIn(syncErrors, name + \"._error\") || _plain[\"default\"].getIn(syncErrors, name);\n  };\n\n  var getSyncWarning = function getSyncWarning(syncWarnings, name) {\n    var warning = getIn(syncWarnings, name); // Because the warning for this field might not be at a level in the warning structure where\n    // it can be set directly, it might need to be unwrapped from the _warning property\n\n    return warning && warning._warning ? warning._warning : warning;\n  };\n\n  var ConnectedFields = /*#__PURE__*/function (_React$Component) {\n    (0, _inheritsLoose2[\"default\"])(ConnectedFields, _React$Component);\n\n    function ConnectedFields(props) {\n      var _this;\n\n      _this = _React$Component.call(this, props) || this;\n      _this.onChangeFns = {};\n      _this.onFocusFns = {};\n      _this.onBlurFns = {};\n      _this.ref = _react[\"default\"].createRef();\n\n      _this.prepareEventHandlers = function (_ref) {\n        var names = _ref.names;\n        return names.forEach(function (name) {\n          _this.onChangeFns[name] = function (event) {\n            return _this.handleChange(name, event);\n          };\n\n          _this.onFocusFns[name] = function () {\n            return _this.handleFocus(name);\n          };\n\n          _this.onBlurFns[name] = function (event) {\n            return _this.handleBlur(name, event);\n          };\n        });\n      };\n\n      _this.handleChange = function (name, event) {\n        var _this$props = _this.props,\n            dispatch = _this$props.dispatch,\n            parse = _this$props.parse,\n            _reduxForm = _this$props._reduxForm;\n        var value = (0, _onChangeValue[\"default\"])(event, {\n          name: name,\n          parse: parse\n        });\n        dispatch(_reduxForm.change(name, value)); // call post-change callback\n\n        if (_reduxForm.asyncValidate) {\n          _reduxForm.asyncValidate(name, value, 'change');\n        }\n      };\n\n      _this.handleFocus = function (name) {\n        var _this$props2 = _this.props,\n            dispatch = _this$props2.dispatch,\n            _reduxForm = _this$props2._reduxForm;\n        dispatch(_reduxForm.focus(name));\n      };\n\n      _this.handleBlur = function (name, event) {\n        var _this$props3 = _this.props,\n            dispatch = _this$props3.dispatch,\n            parse = _this$props3.parse,\n            _reduxForm = _this$props3._reduxForm;\n        var value = (0, _onChangeValue[\"default\"])(event, {\n          name: name,\n          parse: parse\n        }); // dispatch blur action\n\n        dispatch(_reduxForm.blur(name, value)); // call post-blur callback\n\n        if (_reduxForm.asyncValidate) {\n          _reduxForm.asyncValidate(name, value, 'blur');\n        }\n      };\n\n      _this.prepareEventHandlers(props);\n\n      return _this;\n    }\n\n    var _proto = ConnectedFields.prototype;\n\n    _proto.UNSAFE_componentWillReceiveProps = function UNSAFE_componentWillReceiveProps(nextProps) {\n      var _this2 = this;\n\n      if (this.props.names !== nextProps.names && (size(this.props.names) !== size(nextProps.names) || nextProps.names.some(function (nextName) {\n        return !_this2.props._fields[nextName];\n      }))) {\n        // names has changed. The cached event handlers need to be updated\n        this.prepareEventHandlers(nextProps);\n      }\n    };\n\n    _proto.shouldComponentUpdate = function shouldComponentUpdate(nextProps) {\n      var _this3 = this;\n\n      var nextPropsKeys = Object.keys(nextProps);\n      var thisPropsKeys = Object.keys(this.props); // if we have children, we MUST update in React 16\n      // https://twitter.com/erikras/status/915866544558788608\n\n      return !!(this.props.children || nextProps.children || nextPropsKeys.length !== thisPropsKeys.length || nextPropsKeys.some(function (prop) {\n        return !~propsToNotUpdateFor.indexOf(prop) && !deepEqual(_this3.props[prop], nextProps[prop]);\n      }));\n    };\n\n    _proto.isDirty = function isDirty() {\n      var _fields = this.props._fields;\n      return Object.keys(_fields).some(function (name) {\n        return _fields[name].dirty;\n      });\n    };\n\n    _proto.getValues = function getValues() {\n      var _fields = this.props._fields;\n      return Object.keys(_fields).reduce(function (accumulator, name) {\n        return _plain[\"default\"].setIn(accumulator, name, _fields[name].value);\n      }, {});\n    };\n\n    _proto.getRenderedComponent = function getRenderedComponent() {\n      return this.ref.current;\n    };\n\n    _proto.render = function render() {\n      var _this4 = this;\n\n      var _this$props4 = this.props,\n          component = _this$props4.component,\n          forwardRef = _this$props4.forwardRef,\n          _fields = _this$props4._fields,\n          _reduxForm = _this$props4._reduxForm,\n          rest = (0, _objectWithoutPropertiesLoose2[\"default\"])(_this$props4, [\"component\", \"forwardRef\", \"_fields\", \"_reduxForm\"]);\n      var sectionPrefix = _reduxForm.sectionPrefix,\n          form = _reduxForm.form;\n\n      var _Object$keys$reduce = Object.keys(_fields).reduce(function (accumulator, name) {\n        var connectedProps = _fields[name];\n\n        var _createFieldProps = (0, _createFieldProps2[\"default\"])(structure, name, (0, _extends2[\"default\"])({}, connectedProps, {}, rest, {\n          form: form,\n          onBlur: _this4.onBlurFns[name],\n          onChange: _this4.onChangeFns[name],\n          onFocus: _this4.onFocusFns[name]\n        })),\n            custom = _createFieldProps.custom,\n            fieldProps = (0, _objectWithoutPropertiesLoose2[\"default\"])(_createFieldProps, [\"custom\"]);\n\n        accumulator.custom = custom;\n        var fieldName = sectionPrefix ? name.replace(sectionPrefix + \".\", '') : name;\n        return _plain[\"default\"].setIn(accumulator, fieldName, fieldProps);\n      }, {}),\n          custom = _Object$keys$reduce.custom,\n          props = (0, _objectWithoutPropertiesLoose2[\"default\"])(_Object$keys$reduce, [\"custom\"]);\n\n      if (forwardRef) {\n        props.ref = this.ref;\n      }\n\n      return _react[\"default\"].createElement(component, (0, _extends2[\"default\"])({}, props, {}, custom));\n    };\n\n    return ConnectedFields;\n  }(_react[\"default\"].Component);\n\n  ConnectedFields.propTypes = {\n    component: _validateComponentProp[\"default\"],\n    _fields: _propTypes[\"default\"].object.isRequired,\n    props: _propTypes[\"default\"].object\n  };\n  var connector = (0, _reactRedux.connect)(function (state, ownProps) {\n    var names = ownProps.names,\n        _ownProps$_reduxForm = ownProps._reduxForm,\n        initialValues = _ownProps$_reduxForm.initialValues,\n        getFormState = _ownProps$_reduxForm.getFormState;\n    var formState = getFormState(state);\n    return {\n      _fields: names.reduce(function (accumulator, name) {\n        var initialState = getIn(formState, \"initial.\" + name);\n        var initial = initialState !== undefined ? initialState : initialValues && getIn(initialValues, name);\n        var value = getIn(formState, \"values.\" + name);\n        var syncError = getSyncError(getIn(formState, 'syncErrors'), name);\n        var syncWarning = getSyncWarning(getIn(formState, 'syncWarnings'), name);\n        var submitting = getIn(formState, 'submitting');\n        var pristine = value === initial;\n        accumulator[name] = {\n          asyncError: getIn(formState, \"asyncErrors.\" + name),\n          asyncValidating: getIn(formState, 'asyncValidating') === name,\n          dirty: !pristine,\n          initial: initial,\n          pristine: pristine,\n          state: getIn(formState, \"fields.\" + name),\n          submitError: getIn(formState, \"submitErrors.\" + name),\n          submitFailed: getIn(formState, 'submitFailed'),\n          submitting: submitting,\n          syncError: syncError,\n          syncWarning: syncWarning,\n          value: value,\n          _value: ownProps.value // save value passed in (for radios)\n\n        };\n        return accumulator;\n      }, {})\n    };\n  }, undefined, undefined, {\n    forwardRef: true\n  });\n  return connector(ConnectedFields);\n}"]},"metadata":{},"sourceType":"script"}