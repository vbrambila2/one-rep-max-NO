{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports[\"default\"] = createConnectedFieldArray;\n\nvar _objectWithoutPropertiesLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutPropertiesLoose\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _inheritsLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));\n\nvar _mapValues2 = _interopRequireDefault(require(\"lodash/mapValues\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _reactRedux = require(\"react-redux\");\n\nvar _redux = require(\"redux\");\n\nvar _createFieldArrayProps = _interopRequireDefault(require(\"./createFieldArrayProps\"));\n\nvar _plain = _interopRequireDefault(require(\"./structure/plain\"));\n\nvar _validateComponentProp = _interopRequireDefault(require(\"./util/validateComponentProp\"));\n\nvar propsToNotUpdateFor = ['_reduxForm', 'value'];\n\nfunction createConnectedFieldArray(structure) {\n  var deepEqual = structure.deepEqual,\n      getIn = structure.getIn,\n      size = structure.size,\n      equals = structure.equals,\n      orderChanged = structure.orderChanged;\n\n  var getSyncError = function getSyncError(syncErrors, name) {\n    // For an array, the error can _ONLY_ be under _error.\n    // This is why this getSyncError is not the same as the\n    // one in Field.\n    return _plain[\"default\"].getIn(syncErrors, name + \"._error\");\n  };\n\n  var getSyncWarning = function getSyncWarning(syncWarnings, name) {\n    // For an array, the warning can _ONLY_ be under _warning.\n    // This is why this getSyncError is not the same as the\n    // one in Field.\n    return getIn(syncWarnings, name + \"._warning\");\n  };\n\n  var ConnectedFieldArray = /*#__PURE__*/function (_Component) {\n    (0, _inheritsLoose2[\"default\"])(ConnectedFieldArray, _Component);\n\n    function ConnectedFieldArray() {\n      var _this;\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n      _this.ref = _react[\"default\"].createRef();\n\n      _this.getValue = function (index) {\n        return _this.props.value && getIn(_this.props.value, String(index));\n      };\n\n      return _this;\n    }\n\n    var _proto = ConnectedFieldArray.prototype;\n\n    _proto.shouldComponentUpdate = function shouldComponentUpdate(nextProps) {\n      var _this2 = this; // Update if the elements of the value array was updated.\n\n\n      var thisValue = this.props.value;\n      var nextValue = nextProps.value;\n\n      if (thisValue && nextValue) {\n        var nextValueItemsSame = equals(nextValue, thisValue); //.every(val => ~thisValue.indexOf(val))\n\n        var nextValueItemsOrderChanged = orderChanged(thisValue, nextValue);\n        var thisValueLength = thisValue.length || thisValue.size;\n        var nextValueLength = nextValue.length || nextValue.size;\n\n        if (thisValueLength !== nextValueLength || nextValueItemsSame && nextValueItemsOrderChanged || nextProps.rerenderOnEveryChange && thisValue.some(function (val, index) {\n          return !deepEqual(val, nextValue[index]);\n        })) {\n          return true;\n        }\n      }\n\n      var nextPropsKeys = Object.keys(nextProps);\n      var thisPropsKeys = Object.keys(this.props); // if we have children, we MUST update in React 16\n      // https://twitter.com/erikras/status/915866544558788608\n\n      return !!(this.props.children || nextProps.children || nextPropsKeys.length !== thisPropsKeys.length || nextPropsKeys.some(function (prop) {\n        // useful to debug rerenders\n        // if (!plain.deepEqual(this.props[ prop ], nextProps[ prop ])) {\n        //   console.info(prop, 'changed', this.props[ prop ], '==>', nextProps[ prop ])\n        // }\n        return !~propsToNotUpdateFor.indexOf(prop) && !deepEqual(_this2.props[prop], nextProps[prop]);\n      }));\n    };\n\n    _proto.getRenderedComponent = function getRenderedComponent() {\n      return this.ref.current;\n    };\n\n    _proto.render = function render() {\n      var _this$props = this.props,\n          component = _this$props.component,\n          forwardRef = _this$props.forwardRef,\n          name = _this$props.name,\n          _reduxForm = _this$props._reduxForm,\n          validate = _this$props.validate,\n          warn = _this$props.warn,\n          rerenderOnEveryChange = _this$props.rerenderOnEveryChange,\n          rest = (0, _objectWithoutPropertiesLoose2[\"default\"])(_this$props, [\"component\", \"forwardRef\", \"name\", \"_reduxForm\", \"validate\", \"warn\", \"rerenderOnEveryChange\"]);\n      var props = (0, _createFieldArrayProps[\"default\"])(structure, name, _reduxForm.form, _reduxForm.sectionPrefix, this.getValue, rest);\n\n      if (forwardRef) {\n        props.ref = this.ref;\n      }\n\n      return (0, _react.createElement)(component, props);\n    };\n\n    (0, _createClass2[\"default\"])(ConnectedFieldArray, [{\n      key: \"dirty\",\n      get: function get() {\n        return this.props.dirty;\n      }\n    }, {\n      key: \"pristine\",\n      get: function get() {\n        return this.props.pristine;\n      }\n    }, {\n      key: \"value\",\n      get: function get() {\n        return this.props.value;\n      }\n    }]);\n    return ConnectedFieldArray;\n  }(_react.Component);\n\n  ConnectedFieldArray.propTypes = {\n    component: _validateComponentProp[\"default\"],\n    props: _propTypes[\"default\"].object,\n    rerenderOnEveryChange: _propTypes[\"default\"].bool\n  };\n  ConnectedFieldArray.defaultProps = {\n    rerenderOnEveryChange: false\n  };\n  var connector = (0, _reactRedux.connect)(function (state, ownProps) {\n    var name = ownProps.name,\n        _ownProps$_reduxForm = ownProps._reduxForm,\n        initialValues = _ownProps$_reduxForm.initialValues,\n        getFormState = _ownProps$_reduxForm.getFormState;\n    var formState = getFormState(state);\n    var initial = getIn(formState, \"initial.\" + name) || initialValues && getIn(initialValues, name);\n    var value = getIn(formState, \"values.\" + name);\n    var submitting = getIn(formState, 'submitting');\n    var syncError = getSyncError(getIn(formState, 'syncErrors'), name);\n    var syncWarning = getSyncWarning(getIn(formState, 'syncWarnings'), name);\n    var pristine = deepEqual(value, initial);\n    return {\n      asyncError: getIn(formState, \"asyncErrors.\" + name + \"._error\"),\n      dirty: !pristine,\n      pristine: pristine,\n      state: getIn(formState, \"fields.\" + name),\n      submitError: getIn(formState, \"submitErrors.\" + name + \"._error\"),\n      submitFailed: getIn(formState, 'submitFailed'),\n      submitting: submitting,\n      syncError: syncError,\n      syncWarning: syncWarning,\n      value: value,\n      length: size(value)\n    };\n  }, function (dispatch, ownProps) {\n    var name = ownProps.name,\n        _reduxForm = ownProps._reduxForm;\n    var arrayInsert = _reduxForm.arrayInsert,\n        arrayMove = _reduxForm.arrayMove,\n        arrayPop = _reduxForm.arrayPop,\n        arrayPush = _reduxForm.arrayPush,\n        arrayRemove = _reduxForm.arrayRemove,\n        arrayRemoveAll = _reduxForm.arrayRemoveAll,\n        arrayShift = _reduxForm.arrayShift,\n        arraySplice = _reduxForm.arraySplice,\n        arraySwap = _reduxForm.arraySwap,\n        arrayUnshift = _reduxForm.arrayUnshift;\n    return (0, _mapValues2[\"default\"])({\n      arrayInsert: arrayInsert,\n      arrayMove: arrayMove,\n      arrayPop: arrayPop,\n      arrayPush: arrayPush,\n      arrayRemove: arrayRemove,\n      arrayRemoveAll: arrayRemoveAll,\n      arrayShift: arrayShift,\n      arraySplice: arraySplice,\n      arraySwap: arraySwap,\n      arrayUnshift: arrayUnshift\n    }, function (actionCreator) {\n      return (0, _redux.bindActionCreators)(actionCreator.bind(null, name), dispatch);\n    });\n  }, undefined, {\n    forwardRef: true\n  });\n  return connector(ConnectedFieldArray);\n}","map":{"version":3,"sources":["/Users/victorbrambila/ORM/one-rep-max/node_modules/redux-form/lib/ConnectedFieldArray.js"],"names":["_interopRequireWildcard","require","_interopRequireDefault","exports","__esModule","createConnectedFieldArray","_objectWithoutPropertiesLoose2","_createClass2","_inheritsLoose2","_mapValues2","_react","_propTypes","_reactRedux","_redux","_createFieldArrayProps","_plain","_validateComponentProp","propsToNotUpdateFor","structure","deepEqual","getIn","size","equals","orderChanged","getSyncError","syncErrors","name","getSyncWarning","syncWarnings","ConnectedFieldArray","_Component","_this","_len","arguments","length","args","Array","_key","call","apply","concat","ref","createRef","getValue","index","props","value","String","_proto","prototype","shouldComponentUpdate","nextProps","_this2","thisValue","nextValue","nextValueItemsSame","nextValueItemsOrderChanged","thisValueLength","nextValueLength","rerenderOnEveryChange","some","val","nextPropsKeys","Object","keys","thisPropsKeys","children","prop","indexOf","getRenderedComponent","current","render","_this$props","component","forwardRef","_reduxForm","validate","warn","rest","form","sectionPrefix","createElement","key","get","dirty","pristine","Component","propTypes","object","bool","defaultProps","connector","connect","state","ownProps","_ownProps$_reduxForm","initialValues","getFormState","formState","initial","submitting","syncError","syncWarning","asyncError","submitError","submitFailed","dispatch","arrayInsert","arrayMove","arrayPop","arrayPush","arrayRemove","arrayRemoveAll","arrayShift","arraySplice","arraySwap","arrayUnshift","actionCreator","bindActionCreators","bind","undefined"],"mappings":"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","sourcesContent":["\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports[\"default\"] = createConnectedFieldArray;\n\nvar _objectWithoutPropertiesLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutPropertiesLoose\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _inheritsLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));\n\nvar _mapValues2 = _interopRequireDefault(require(\"lodash/mapValues\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _reactRedux = require(\"react-redux\");\n\nvar _redux = require(\"redux\");\n\nvar _createFieldArrayProps = _interopRequireDefault(require(\"./createFieldArrayProps\"));\n\nvar _plain = _interopRequireDefault(require(\"./structure/plain\"));\n\nvar _validateComponentProp = _interopRequireDefault(require(\"./util/validateComponentProp\"));\n\nvar propsToNotUpdateFor = ['_reduxForm', 'value'];\n\nfunction createConnectedFieldArray(structure) {\n  var deepEqual = structure.deepEqual,\n      getIn = structure.getIn,\n      size = structure.size,\n      equals = structure.equals,\n      orderChanged = structure.orderChanged;\n\n  var getSyncError = function getSyncError(syncErrors, name) {\n    // For an array, the error can _ONLY_ be under _error.\n    // This is why this getSyncError is not the same as the\n    // one in Field.\n    return _plain[\"default\"].getIn(syncErrors, name + \"._error\");\n  };\n\n  var getSyncWarning = function getSyncWarning(syncWarnings, name) {\n    // For an array, the warning can _ONLY_ be under _warning.\n    // This is why this getSyncError is not the same as the\n    // one in Field.\n    return getIn(syncWarnings, name + \"._warning\");\n  };\n\n  var ConnectedFieldArray = /*#__PURE__*/function (_Component) {\n    (0, _inheritsLoose2[\"default\"])(ConnectedFieldArray, _Component);\n\n    function ConnectedFieldArray() {\n      var _this;\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n      _this.ref = _react[\"default\"].createRef();\n\n      _this.getValue = function (index) {\n        return _this.props.value && getIn(_this.props.value, String(index));\n      };\n\n      return _this;\n    }\n\n    var _proto = ConnectedFieldArray.prototype;\n\n    _proto.shouldComponentUpdate = function shouldComponentUpdate(nextProps) {\n      var _this2 = this;\n\n      // Update if the elements of the value array was updated.\n      var thisValue = this.props.value;\n      var nextValue = nextProps.value;\n\n      if (thisValue && nextValue) {\n        var nextValueItemsSame = equals(nextValue, thisValue); //.every(val => ~thisValue.indexOf(val))\n\n        var nextValueItemsOrderChanged = orderChanged(thisValue, nextValue);\n        var thisValueLength = thisValue.length || thisValue.size;\n        var nextValueLength = nextValue.length || nextValue.size;\n\n        if (thisValueLength !== nextValueLength || nextValueItemsSame && nextValueItemsOrderChanged || nextProps.rerenderOnEveryChange && thisValue.some(function (val, index) {\n          return !deepEqual(val, nextValue[index]);\n        })) {\n          return true;\n        }\n      }\n\n      var nextPropsKeys = Object.keys(nextProps);\n      var thisPropsKeys = Object.keys(this.props); // if we have children, we MUST update in React 16\n      // https://twitter.com/erikras/status/915866544558788608\n\n      return !!(this.props.children || nextProps.children || nextPropsKeys.length !== thisPropsKeys.length || nextPropsKeys.some(function (prop) {\n        // useful to debug rerenders\n        // if (!plain.deepEqual(this.props[ prop ], nextProps[ prop ])) {\n        //   console.info(prop, 'changed', this.props[ prop ], '==>', nextProps[ prop ])\n        // }\n        return !~propsToNotUpdateFor.indexOf(prop) && !deepEqual(_this2.props[prop], nextProps[prop]);\n      }));\n    };\n\n    _proto.getRenderedComponent = function getRenderedComponent() {\n      return this.ref.current;\n    };\n\n    _proto.render = function render() {\n      var _this$props = this.props,\n          component = _this$props.component,\n          forwardRef = _this$props.forwardRef,\n          name = _this$props.name,\n          _reduxForm = _this$props._reduxForm,\n          validate = _this$props.validate,\n          warn = _this$props.warn,\n          rerenderOnEveryChange = _this$props.rerenderOnEveryChange,\n          rest = (0, _objectWithoutPropertiesLoose2[\"default\"])(_this$props, [\"component\", \"forwardRef\", \"name\", \"_reduxForm\", \"validate\", \"warn\", \"rerenderOnEveryChange\"]);\n      var props = (0, _createFieldArrayProps[\"default\"])(structure, name, _reduxForm.form, _reduxForm.sectionPrefix, this.getValue, rest);\n\n      if (forwardRef) {\n        props.ref = this.ref;\n      }\n\n      return (0, _react.createElement)(component, props);\n    };\n\n    (0, _createClass2[\"default\"])(ConnectedFieldArray, [{\n      key: \"dirty\",\n      get: function get() {\n        return this.props.dirty;\n      }\n    }, {\n      key: \"pristine\",\n      get: function get() {\n        return this.props.pristine;\n      }\n    }, {\n      key: \"value\",\n      get: function get() {\n        return this.props.value;\n      }\n    }]);\n    return ConnectedFieldArray;\n  }(_react.Component);\n\n  ConnectedFieldArray.propTypes = {\n    component: _validateComponentProp[\"default\"],\n    props: _propTypes[\"default\"].object,\n    rerenderOnEveryChange: _propTypes[\"default\"].bool\n  };\n  ConnectedFieldArray.defaultProps = {\n    rerenderOnEveryChange: false\n  };\n  var connector = (0, _reactRedux.connect)(function (state, ownProps) {\n    var name = ownProps.name,\n        _ownProps$_reduxForm = ownProps._reduxForm,\n        initialValues = _ownProps$_reduxForm.initialValues,\n        getFormState = _ownProps$_reduxForm.getFormState;\n    var formState = getFormState(state);\n    var initial = getIn(formState, \"initial.\" + name) || initialValues && getIn(initialValues, name);\n    var value = getIn(formState, \"values.\" + name);\n    var submitting = getIn(formState, 'submitting');\n    var syncError = getSyncError(getIn(formState, 'syncErrors'), name);\n    var syncWarning = getSyncWarning(getIn(formState, 'syncWarnings'), name);\n    var pristine = deepEqual(value, initial);\n    return {\n      asyncError: getIn(formState, \"asyncErrors.\" + name + \"._error\"),\n      dirty: !pristine,\n      pristine: pristine,\n      state: getIn(formState, \"fields.\" + name),\n      submitError: getIn(formState, \"submitErrors.\" + name + \"._error\"),\n      submitFailed: getIn(formState, 'submitFailed'),\n      submitting: submitting,\n      syncError: syncError,\n      syncWarning: syncWarning,\n      value: value,\n      length: size(value)\n    };\n  }, function (dispatch, ownProps) {\n    var name = ownProps.name,\n        _reduxForm = ownProps._reduxForm;\n    var arrayInsert = _reduxForm.arrayInsert,\n        arrayMove = _reduxForm.arrayMove,\n        arrayPop = _reduxForm.arrayPop,\n        arrayPush = _reduxForm.arrayPush,\n        arrayRemove = _reduxForm.arrayRemove,\n        arrayRemoveAll = _reduxForm.arrayRemoveAll,\n        arrayShift = _reduxForm.arrayShift,\n        arraySplice = _reduxForm.arraySplice,\n        arraySwap = _reduxForm.arraySwap,\n        arrayUnshift = _reduxForm.arrayUnshift;\n    return (0, _mapValues2[\"default\"])({\n      arrayInsert: arrayInsert,\n      arrayMove: arrayMove,\n      arrayPop: arrayPop,\n      arrayPush: arrayPush,\n      arrayRemove: arrayRemove,\n      arrayRemoveAll: arrayRemoveAll,\n      arrayShift: arrayShift,\n      arraySplice: arraySplice,\n      arraySwap: arraySwap,\n      arrayUnshift: arrayUnshift\n    }, function (actionCreator) {\n      return (0, _redux.bindActionCreators)(actionCreator.bind(null, name), dispatch);\n    });\n  }, undefined, {\n    forwardRef: true\n  });\n  return connector(ConnectedFieldArray);\n}"]},"metadata":{},"sourceType":"script"}