{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports[\"default\"] = void 0;\n\nvar _toPath2 = _interopRequireDefault(require(\"lodash/toPath\"));\n\nfunction createDeleteInWithCleanUp(structure) {\n  var shouldDeleteDefault = function shouldDeleteDefault(structure) {\n    return function (state, path) {\n      return structure.getIn(state, path) !== undefined;\n    };\n  };\n\n  var deepEqual = structure.deepEqual,\n      empty = structure.empty,\n      getIn = structure.getIn,\n      deleteIn = structure.deleteIn,\n      setIn = structure.setIn;\n  return function (shouldDelete) {\n    if (shouldDelete === void 0) {\n      shouldDelete = shouldDeleteDefault;\n    }\n\n    var deleteInWithCleanUp = function deleteInWithCleanUp(state, path) {\n      if (path[path.length - 1] === ']') {\n        // array path\n        var pathTokens = (0, _toPath2[\"default\"])(path);\n        pathTokens.pop();\n        var parent = getIn(state, pathTokens.join('.'));\n        return parent ? setIn(state, path) : state;\n      }\n\n      var result = state;\n\n      if (shouldDelete(structure)(state, path)) {\n        result = deleteIn(state, path);\n      }\n\n      var dotIndex = path.lastIndexOf('.');\n\n      if (dotIndex > 0) {\n        var parentPath = path.substring(0, dotIndex);\n\n        if (parentPath[parentPath.length - 1] !== ']') {\n          var _parent = getIn(result, parentPath);\n\n          if (deepEqual(_parent, empty)) {\n            return deleteInWithCleanUp(result, parentPath);\n          }\n        }\n      }\n\n      return result;\n    };\n\n    return deleteInWithCleanUp;\n  };\n}\n\nvar _default = createDeleteInWithCleanUp;\nexports[\"default\"] = _default;","map":{"version":3,"sources":["/Users/victorbrambila/ORM/one-rep-max/node_modules/redux-form/lib/deleteInWithCleanUp.js"],"names":["_interopRequireDefault","require","exports","__esModule","_toPath2","createDeleteInWithCleanUp","structure","shouldDeleteDefault","state","path","getIn","undefined","deepEqual","empty","deleteIn","setIn","shouldDelete","deleteInWithCleanUp","length","pathTokens","pop","parent","join","result","dotIndex","lastIndexOf","parentPath","substring","_parent","_default"],"mappings":"AAAA;;AAEA,IAAIA,sBAAsB,GAAGC,OAAO,CAAC,8CAAD,CAApC;;AAEAC,OAAO,CAACC,UAAR,GAAqB,IAArB;AACAD,OAAO,CAAC,SAAD,CAAP,GAAqB,KAAK,CAA1B;;AAEA,IAAIE,QAAQ,GAAGJ,sBAAsB,CAACC,OAAO,CAAC,eAAD,CAAR,CAArC;;AAEA,SAASI,yBAAT,CAAmCC,SAAnC,EAA8C;AAC5C,MAAIC,mBAAmB,GAAG,SAASA,mBAAT,CAA6BD,SAA7B,EAAwC;AAChE,WAAO,UAAUE,KAAV,EAAiBC,IAAjB,EAAuB;AAC5B,aAAOH,SAAS,CAACI,KAAV,CAAgBF,KAAhB,EAAuBC,IAAvB,MAAiCE,SAAxC;AACD,KAFD;AAGD,GAJD;;AAMA,MAAIC,SAAS,GAAGN,SAAS,CAACM,SAA1B;AAAA,MACIC,KAAK,GAAGP,SAAS,CAACO,KADtB;AAAA,MAEIH,KAAK,GAAGJ,SAAS,CAACI,KAFtB;AAAA,MAGII,QAAQ,GAAGR,SAAS,CAACQ,QAHzB;AAAA,MAIIC,KAAK,GAAGT,SAAS,CAACS,KAJtB;AAKA,SAAO,UAAUC,YAAV,EAAwB;AAC7B,QAAIA,YAAY,KAAK,KAAK,CAA1B,EAA6B;AAC3BA,MAAAA,YAAY,GAAGT,mBAAf;AACD;;AAED,QAAIU,mBAAmB,GAAG,SAASA,mBAAT,CAA6BT,KAA7B,EAAoCC,IAApC,EAA0C;AAClE,UAAIA,IAAI,CAACA,IAAI,CAACS,MAAL,GAAc,CAAf,CAAJ,KAA0B,GAA9B,EAAmC;AACjC;AACA,YAAIC,UAAU,GAAG,CAAC,GAAGf,QAAQ,CAAC,SAAD,CAAZ,EAAyBK,IAAzB,CAAjB;AACAU,QAAAA,UAAU,CAACC,GAAX;AACA,YAAIC,MAAM,GAAGX,KAAK,CAACF,KAAD,EAAQW,UAAU,CAACG,IAAX,CAAgB,GAAhB,CAAR,CAAlB;AACA,eAAOD,MAAM,GAAGN,KAAK,CAACP,KAAD,EAAQC,IAAR,CAAR,GAAwBD,KAArC;AACD;;AAED,UAAIe,MAAM,GAAGf,KAAb;;AAEA,UAAIQ,YAAY,CAACV,SAAD,CAAZ,CAAwBE,KAAxB,EAA+BC,IAA/B,CAAJ,EAA0C;AACxCc,QAAAA,MAAM,GAAGT,QAAQ,CAACN,KAAD,EAAQC,IAAR,CAAjB;AACD;;AAED,UAAIe,QAAQ,GAAGf,IAAI,CAACgB,WAAL,CAAiB,GAAjB,CAAf;;AAEA,UAAID,QAAQ,GAAG,CAAf,EAAkB;AAChB,YAAIE,UAAU,GAAGjB,IAAI,CAACkB,SAAL,CAAe,CAAf,EAAkBH,QAAlB,CAAjB;;AAEA,YAAIE,UAAU,CAACA,UAAU,CAACR,MAAX,GAAoB,CAArB,CAAV,KAAsC,GAA1C,EAA+C;AAC7C,cAAIU,OAAO,GAAGlB,KAAK,CAACa,MAAD,EAASG,UAAT,CAAnB;;AAEA,cAAId,SAAS,CAACgB,OAAD,EAAUf,KAAV,CAAb,EAA+B;AAC7B,mBAAOI,mBAAmB,CAACM,MAAD,EAASG,UAAT,CAA1B;AACD;AACF;AACF;;AAED,aAAOH,MAAP;AACD,KA9BD;;AAgCA,WAAON,mBAAP;AACD,GAtCD;AAuCD;;AAED,IAAIY,QAAQ,GAAGxB,yBAAf;AACAH,OAAO,CAAC,SAAD,CAAP,GAAqB2B,QAArB","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports[\"default\"] = void 0;\n\nvar _toPath2 = _interopRequireDefault(require(\"lodash/toPath\"));\n\nfunction createDeleteInWithCleanUp(structure) {\n  var shouldDeleteDefault = function shouldDeleteDefault(structure) {\n    return function (state, path) {\n      return structure.getIn(state, path) !== undefined;\n    };\n  };\n\n  var deepEqual = structure.deepEqual,\n      empty = structure.empty,\n      getIn = structure.getIn,\n      deleteIn = structure.deleteIn,\n      setIn = structure.setIn;\n  return function (shouldDelete) {\n    if (shouldDelete === void 0) {\n      shouldDelete = shouldDeleteDefault;\n    }\n\n    var deleteInWithCleanUp = function deleteInWithCleanUp(state, path) {\n      if (path[path.length - 1] === ']') {\n        // array path\n        var pathTokens = (0, _toPath2[\"default\"])(path);\n        pathTokens.pop();\n        var parent = getIn(state, pathTokens.join('.'));\n        return parent ? setIn(state, path) : state;\n      }\n\n      var result = state;\n\n      if (shouldDelete(structure)(state, path)) {\n        result = deleteIn(state, path);\n      }\n\n      var dotIndex = path.lastIndexOf('.');\n\n      if (dotIndex > 0) {\n        var parentPath = path.substring(0, dotIndex);\n\n        if (parentPath[parentPath.length - 1] !== ']') {\n          var _parent = getIn(result, parentPath);\n\n          if (deepEqual(_parent, empty)) {\n            return deleteInWithCleanUp(result, parentPath);\n          }\n        }\n      }\n\n      return result;\n    };\n\n    return deleteInWithCleanUp;\n  };\n}\n\nvar _default = createDeleteInWithCleanUp;\nexports[\"default\"] = _default;"]},"metadata":{},"sourceType":"script"}